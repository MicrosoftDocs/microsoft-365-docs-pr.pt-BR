---
title: Migrando de um HIPS de terceiros para regras ASR
description: Descreve como abordar uma migração de uma solução HIPS (Sistema de Prevenção contra Intrusão de Host) de terceiros para regras ASR.
keywords: Regras de redução de superfície de ataque, asr, regras de asr, quadris, sistema de prevenção contra invasões de host, regras de proteção, antiexploit, exploração, prevenção de infecção, Microsoft Defender para Ponto de Extremidade, Microsoft Defender ATP
search.product: eADQiWindows 10XVcnh
ms.topic: article
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.pagetype: security
ms.localizationpriority: medium
audience: ITPro
author: lovina-saldanha
ms.author: v-lsaldanha
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.openlocfilehash: ced969fdd3e8b63136f8bd3f043272e76d99bc5e
ms.sourcegitcommit: 7b8104015a76e02bc215e1cf08069979c70650ae
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/31/2021
ms.locfileid: "51476488"
---
# <a name="migrating-from-a-third-party-hips-to-asr-rules"></a>Migrando de um HIPS de terceiros para regras ASR

Este artigo ajuda você a mapear regras comuns para o Microsoft Defender para Ponto de Extremidade. A tabela a seguir mostra perguntas e cenários comuns ao migrar de um produto HIPS de terceiros para regras ASR.

|Escopo e Ação|Processos|Operação|Exemplos de Arquivos/Pastas, Chaves/Valores do Registro, Processos, Serviços|Regras de Redução de Superfície de Ataque|Outros recursos recomendados|
|:--|:--|:--|:--|:--|:--|
|Todos os Processos: Bloquear a criação de arquivos específicos e chaves do Registro||Criação de arquivos|*.zepto, *.odin, *.locky, *.jaff, *.lukitus, *.wnry, *.krab|As regras asR bloqueiam as técnicas de ataque e não os Indicadores de Comprometimento (IOC). O bloqueio de uma extensão de arquivo específica nem sempre é útil, pois não impede que um dispositivo seja comprometido. Ele apenas impede parcialmente um ataque até que os invasores criem um novo tipo de extensão para a carga.|Ter o Microsoft Defender AV habilitado, juntamente com a Análise de Comportamento e Proteção na Nuvem é altamente recomendável. Recomendamos que você use outra prevenção, como a regra ASR "Usar proteção avançada contra ransomware". Isso fornece um nível maior de proteção contra ataques de ransomware. Além disso, várias dessas chaves do Registro são monitoradas pelo Microsoft Defender para Ponto de Extremidade, como técnicas ASEP, que dispararão alertas específicos. As chaves do Registro usadas exigem um mínimo de privilégios de Administrador Local ou Instalador Confiável para serem capazes de ser modificadas. É recomendável usar um ambiente bloqueado, com contas ou direitos administrativos mínimos. Outras configurações do sistema podem ser habilitadas, incluindo "Desabilitar SeDebug para funções não necessárias" que fazem parte de nossas recomendações de segurança mais amplas.|
|Todos os Processos: Bloquear a criação de arquivos específicos e chaves do Registro||Modificações do Registro|*\Software \* ,HKCU\Environment\UserInitMprLogonScript,HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Accessibility\ATs \* \StartExe, HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Image File Execution Options \* \Depurador,HKEY_CURRENT_USER\Software\Microsoft\HtmlHelp Author\location,HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\SilentProcessExit \* \MonitorProcess|As regras asR bloqueiam as técnicas de ataque e não os Indicadores de Comprometimento (IOC). O bloqueio de uma extensão de arquivo específica nem sempre é útil, pois não impede que um dispositivo seja comprometido. Ele apenas impede parcialmente um ataque até que os invasores criem um novo tipo de extensão para a carga.|Ter o Microsoft Defender AV habilitado, juntamente com a Análise de Comportamento e Proteção na Nuvem é altamente recomendável. Recomendamos que você use prevenção adicional, como a regra ASR "Usar proteção avançada contra ransomware". Isso fornece um nível maior de proteção contra ataques de ransomware. Além disso, várias dessas chaves do Registro são monitoradas pelo Microsoft Defender para Ponto de Extremidade, como técnicas ASEP, que dispararão alertas específicos. Além disso, as chaves do Registro usadas exigem um mínimo de privilégios de Administrador Local ou Instalador Confiável para serem capazes de ser modificadas. É recomendável usar um ambiente bloqueado, com contas ou direitos administrativos mínimos. Outras configurações do sistema podem ser habilitadas, incluindo "Desabilitar SeDebug para funções não necessárias" que fazem parte de nossas recomendações de segurança mais amplas.|
|Programas nãotrusados do USB: impedir que programas não não-confianças seja executado a partir de unidades removíveis|*|Execução do Processo|*|As regras asR têm uma regra interno para impedir o lançamento de programas não assinados e não assinados de unidades removíveis: "Bloquear processos não assinados e não assinados executados a partir do USB", GUID "b2b3f03d-6a65-4f7b-a9c7-1c7ef74a9ba4".|Explore controles adicionais para dispositivos USB e outras mídias removíveis usando o Microsoft Defender para Ponto de Extremidade: como controlar dispositivos USB e outras [mídias removíveis](https://docs.microsoft.com/windows/security/threat-protection/device-control/control-usb-devices-using-intune)usando o Microsoft Defender para Ponto de Extremidade . |
|Mshta: Impedir Mshta de iniciar determinados processos filho|mshta.exe|Execução do Processo|powershell.exe, cmd.exe, regsvr32.exe|As regras asr não contêm nenhuma regra específica para impedir que processos filho "mshta.exe". Esse controle está dentro do limite de Exploit Protection ou Windows Defender Application Control.|Habilitar Windows Defender Controle de Aplicativos para impedir mshta.exe de ser executado completamente. Se sua organização exigir "mshta.exe" para aplicativos de linha de negócios, configure uma regra específica Windows Defender Proteção de Exploração, a fim de impedir mshta.exe iniciar processos filho.|
|Outlook: impedir o Outlook de iniciar processos filho|outlook.exe|Execução do Processo|powershell.exe|As regras de ASR têm uma regra interna para impedir que aplicativos de comunicação do Office (Outlook, Skype e Teams) iniciam processos filho: "Bloquear o aplicativo de comunicação do Office de criar processos filho", GUID "26190899-1602-49e8-8b27-eb1d0a1ce869".|Recomendamos habilizar o modo de idioma restrito do PowerShell, para minimizar a superfície de ataque do PowerShell.|
|Office: impedir o Office Apps de iniciar processos filho e de criar conteúdo executável|winword.exe, powerpnt.exe, excel.exe|Execução do Processo|powershell.exe, cmd.exe, wscript.exe, mshta.exe, EQNEDT32.EXE, regsrv32.exe|As regras de ASR têm uma regra interno para impedir que os aplicativos do Office iniciam processos filho: "Bloquear todos os aplicativos do Office de criar processos filho", GUID "D4F940AB-401B-4EFC-AADC-AD5F3C50688A".|N/D|
|Office: impedir o Office Apps de iniciar processos filho e de criar conteúdo executável|winword.exe, powerpnt.exe, excel.exe|Criação de arquivos|C:\Users \* \AppData \* *\* .exe, C:\ProgramData \** \* .exe, C:\ProgramData \* *\* .com, C:\Users \* AppData\Local\Temp \** \* .com, C:\Users \* *\Downloads \** \* .exe, C:\Users \* \AppData \* *\* .scf, C:\ProgramData \** \* .scf, C:\Users\Public \* .exe, C:\Users \* \Desktop \* * \* .exe|N/D|
|Wscript: Impedir o Wscript de ler determinados tipos de arquivos|wscript.exe|Leitura de arquivo|C:\Users \* \AppData \* *\* .js*, C:\Users \* \Downloads \* *\* .js*|Devido a problemas de confiabilidade e desempenho, as regras ASR não têm a capacidade de impedir que um processo específico leia um determinado tipo de arquivo de script. Temos uma regra para evitar vetores de ataque que podem se originar desses cenários. O nome da regra é "Bloquear JavaScript ou VBScript de iniciar conteúdo executável baixado" (GUID "D3E037E1-3EB8-44C8-A917-57927947596D") e "Bloquear a execução de scripts potencialmente ofuscados" (GUID " 5BEB7EFE-FD9A-4556-801D-275E5FFC04CC")|Embora haja regras ASR específicas que atenuam determinados vetores de ataque nesses cenários, é importante mencionar que a AV é capaz, por padrão, de inspecionar scripts (PowerShell, Host de Script do Windows, JavaScript, VBScript e muito mais) em tempo real, por meio da Interface de Verificação antimalware (AMSI). Mais informações estão disponíveis aqui: [Interface de Verificação antimalware (AMSI)](https://docs.microsoft.com/windows/win32/amsi/antimalware-scan-interface-portal). |
|Adobe Acrobat: bloquear o início de processos filho|AcroRd32.exe, Acrobat.exe|Execução do Processo|cmd.exe, powershell.exe, wscript.exe|As regras do ASR permitem bloquear o Adobe Reader de iniciar processos filho. O nome da regra é "Bloquear o Adobe Reader de criar processos filho", GUID "7674ba52-37eb-4a4f-a9a1-f0f9a1619a2c".|N/D|
|CertUtil: Bloquear o download ou a criação de conteúdo executável|certutil.exe|Criação de arquivos|*.exe|As regras do ASR não suportam esses cenários porque fazem parte da proteção do Microsoft Defender Antivírus.|O Microsoft Defender AV impede que CertUtil cria ou baixa conteúdo executável.|
|Todos os processos: impedir que os processos parem componentes críticos do sistema|*|Término do processo|MsSense.exe, MsMpEng.exe, NisSrv.exe, svchost.exe*, services.exe, csrss.exe, smss.exe, wininit.exe e muito mais.|As regras asR não suportam esses cenários porque estão protegidas com proteções de segurança internas do Windows 10.|ELAM (AntiMalware de Início Antecipado), PPL (Protection Process Light), PPL AntiMalware Light e System Guard.|
|Processos específicos: Bloquear tentativa de processo de lançamento específica|"Nome do processo"|Execução do Processo|tor.exe, bittorrent.exe, cmd.exe, powershell.exe e muito mais.|Em geral, as regras asR não são projetadas para funcionar como gerenciador de aplicativos.|Para impedir que os usuários iniciam processos ou programas específicos, a recomendação seria usar Windows Defender Controle de Aplicativos. Os indicadores de Arquivo e Certificado do Microsoft Defender para Endpoint podem ser usados em um cenário de Resposta a Incidentes (não deve ser visto como um mecanismo de controle de aplicativo).|
|Todos os processos: bloquear alterações não autorizadas nas configurações av do MDATP|*|Modificações do Registro|HKLM\SOFTWARE\Policies\Microsoft\Windows Defender\DisableAntiSpyware, HKLM\SOFTWARE\Policies\Microsoft\Windows Defender\Policy Manager\AllowRealTimeMonitoring, etc.|As regras de ASR não abrangem esses tipos de cenários porque fazem parte da proteção do Microsoft Defender para Ponto de Extremidade.|A Proteção contra Adulteração (opt-in, gerenciada do Intune) impede alterações não autorizadas em DisableAntiVirus, DisableAntiSpyware, DisableRealtimeMonitoring, DisableOnAccessProtection, DisableBehaviorMonitoring e DisableIOAVProtection Registry keys (e muito mais). |



Confira também

- [Perguntas frequentes sobre a redução da superfície de ataque](attack-surface-reduction-faq.md)
- [Habilitar regras da redução da superfície de ataque](enable-attack-surface-reduction.md)
- [Avaliar as regras da redução da superfície de ataque](evaluate-attack-surface-reduction.md)
