---
title: Referência avançada do esquema de busca
description: Saiba mais sobre as tabelas no esquema avançado de busca para entender os dados em que você pode executar consultas de busca de ameaças.
keywords: busca avançada, busca de ameaças, busca de ameaças cibernéticas, mdatp, microsoft defender atp, microsoft defender para ponto de extremidade, pesquisa wdatp, consulta, telemetria, referência de esquema, kusto, tabela, dados
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
ms.author: maccruz
author: schmurky
localization_priority: Normal
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.date: 01/14/2020
ms.technology: mde
ms.openlocfilehash: fcc7d96f51121824550128e89186074e1ebc3ce0
ms.sourcegitcommit: 48195345b21b409b175d68acdc25d9f2fc4fc5f1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/30/2021
ms.locfileid: "53228874"
---
# <a name="understand-the-advanced-hunting-schema-in-microsoft-defender-for-endpoint"></a><span data-ttu-id="a2bc9-104">Entenda o esquema de busca avançado no Microsoft Defender para Ponto de Extremidade</span><span class="sxs-lookup"><span data-stu-id="a2bc9-104">Understand the advanced hunting schema in Microsoft Defender for Endpoint</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

<span data-ttu-id="a2bc9-105">**Aplica-se a:**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-105">**Applies to:**</span></span>
- [<span data-ttu-id="a2bc9-106">Microsoft Defender para Ponto de Extremidade</span><span class="sxs-lookup"><span data-stu-id="a2bc9-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)

><span data-ttu-id="a2bc9-107">Deseja experimentar o Defender para Ponto de Extremidade?</span><span class="sxs-lookup"><span data-stu-id="a2bc9-107">Want to experience Defender for Endpoint?</span></span> [<span data-ttu-id="a2bc9-108">Inscreva-se para uma avaliação gratuita.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-108">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-advancedhuntingref-abovefoldlink)

[!include[Prerelease information](../../includes/prerelease.md)]

<span data-ttu-id="a2bc9-109">O [esquema de busca](advanced-hunting-overview.md) avançado é feito de várias tabelas que fornecem informações de eventos ou informações sobre dispositivos e outras entidades.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-109">The [advanced hunting](advanced-hunting-overview.md) schema is made up of multiple tables that provide either event information or information about devices and other entities.</span></span> <span data-ttu-id="a2bc9-110">Para criar efetivamente consultas que abrangem várias tabelas, é necessário entender as tabelas e as colunas no esquema de busca avançado.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-110">To effectively build queries that span multiple tables, you need to understand the tables and the columns in the advanced hunting schema.</span></span>

## <a name="get-schema-information-in-the-security-center"></a><span data-ttu-id="a2bc9-111">Obter informações de esquema no centro de segurança</span><span class="sxs-lookup"><span data-stu-id="a2bc9-111">Get schema information in the security center</span></span>
<span data-ttu-id="a2bc9-112">Durante a construção de consultas, use a referência de esquema integrado para obter rapidamente as seguintes informações sobre cada tabela no esquema:</span><span class="sxs-lookup"><span data-stu-id="a2bc9-112">While constructing queries, use the built-in schema reference to quickly get the following information about each table in the schema:</span></span>

- <span data-ttu-id="a2bc9-113">**Descrição de** tabelas — tipo de dados contidos na tabela e a origem desses dados.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-113">**Tables description**—type of data contained in the table and the source of that data.</span></span>
- <span data-ttu-id="a2bc9-114">**Colunas**— todas as colunas na tabela.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-114">**Columns**—all the columns in the table.</span></span>
- <span data-ttu-id="a2bc9-115">**Tipos de** ação — valores possíveis na coluna `ActionType` que representam os tipos de evento suportados pela tabela.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-115">**Action types**—possible values in the `ActionType` column representing the event types supported by the table.</span></span> <span data-ttu-id="a2bc9-116">Isso é fornecido apenas para tabelas que contêm informações de evento.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-116">This is provided only for tables that contain event information.</span></span>
- <span data-ttu-id="a2bc9-117">**Consulta de exemplo**— consultas de exemplo que apresentam como a tabela pode ser usada.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-117">**Sample query**—example queries that feature how the table can be utilized.</span></span>

### <a name="access-the-schema-reference"></a><span data-ttu-id="a2bc9-118">Acessar a referência de esquema</span><span class="sxs-lookup"><span data-stu-id="a2bc9-118">Access the schema reference</span></span>
<span data-ttu-id="a2bc9-119">Para acessar rapidamente a referência de esquema, selecione a ação **Exibir referência** ao lado do nome da tabela na representação do esquema.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-119">To quickly access the schema reference, select the **View reference** action next to the table name in the schema representation.</span></span> <span data-ttu-id="a2bc9-120">Você também pode selecionar **Referência de esquema** para pesquisar uma tabela.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-120">You can also select **Schema reference** to search for a table.</span></span>

![Imagem mostrando como acessar a referência de esquema no portal](images/ah-reference.png)

## <a name="learn-the-schema-tables"></a><span data-ttu-id="a2bc9-122">Saiba as tabelas de esquema</span><span class="sxs-lookup"><span data-stu-id="a2bc9-122">Learn the schema tables</span></span>

<span data-ttu-id="a2bc9-123">A referência a seguir lista todas as tabelas no esquema de busca avançado.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-123">The following reference lists all the tables in the advanced hunting schema.</span></span> <span data-ttu-id="a2bc9-124">Cada nome de tabela se vincula a uma página que descreve os nomes das colunas da tabela.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-124">Each table name links to a page describing the column names for that table.</span></span>

<span data-ttu-id="a2bc9-125">Os nomes de tabela e coluna também são listados no Central de Segurança do Microsoft Defender, na representação de esquema na tela de busca avançada.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-125">Table and column names are also listed within the Microsoft Defender Security Center, in the schema representation on the advanced hunting screen.</span></span>

| <span data-ttu-id="a2bc9-126">Nome da tabela</span><span class="sxs-lookup"><span data-stu-id="a2bc9-126">Table name</span></span> | <span data-ttu-id="a2bc9-127">Descrição</span><span class="sxs-lookup"><span data-stu-id="a2bc9-127">Description</span></span> |
|------------|-------------|
| <span data-ttu-id="a2bc9-128">**[DeviceAlertEvents](advanced-hunting-devicealertevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-128">**[DeviceAlertEvents](advanced-hunting-devicealertevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-129">Alertas no Central de Segurança do Microsoft Defender</span><span class="sxs-lookup"><span data-stu-id="a2bc9-129">Alerts on Microsoft Defender Security Center</span></span> |
| <span data-ttu-id="a2bc9-130">**[DeviceInfo](advanced-hunting-deviceinfo-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-130">**[DeviceInfo](advanced-hunting-deviceinfo-table.md)**</span></span> | <span data-ttu-id="a2bc9-131">Informações do dispositivo, incluindo informações do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="a2bc9-131">Device information, including OS information</span></span> |
| <span data-ttu-id="a2bc9-132">**[DeviceNetworkInfo](advanced-hunting-devicenetworkinfo-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-132">**[DeviceNetworkInfo](advanced-hunting-devicenetworkinfo-table.md)**</span></span> | <span data-ttu-id="a2bc9-133">Propriedades de rede de dispositivos, incluindo adaptadores, endereços IP e MAC, bem como redes e domínios conectados</span><span class="sxs-lookup"><span data-stu-id="a2bc9-133">Network properties of devices, including adapters, IP and MAC addresses, as well as connected networks and domains</span></span> |
| <span data-ttu-id="a2bc9-134">**[DeviceProcessEvents](advanced-hunting-deviceprocessevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-134">**[DeviceProcessEvents](advanced-hunting-deviceprocessevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-135">Criação de processos e eventos relacionados</span><span class="sxs-lookup"><span data-stu-id="a2bc9-135">Process creation and related events</span></span> |
| <span data-ttu-id="a2bc9-136">**[DeviceNetworkEvents](advanced-hunting-devicenetworkevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-136">**[DeviceNetworkEvents](advanced-hunting-devicenetworkevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-137">Conexão de rede e eventos relacionados</span><span class="sxs-lookup"><span data-stu-id="a2bc9-137">Network connection and related events</span></span> |
| <span data-ttu-id="a2bc9-138">**[DeviceFileEvents](advanced-hunting-devicefileevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-138">**[DeviceFileEvents](advanced-hunting-devicefileevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-139">Criação de arquivos, modificação e outros eventos do sistema de arquivos</span><span class="sxs-lookup"><span data-stu-id="a2bc9-139">File creation, modification, and other file system events</span></span> |
| <span data-ttu-id="a2bc9-140">**[DeviceRegistryEvents](advanced-hunting-deviceregistryevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-140">**[DeviceRegistryEvents](advanced-hunting-deviceregistryevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-141">Criação e modificação de entradas do registro</span><span class="sxs-lookup"><span data-stu-id="a2bc9-141">Creation and modification of registry entries</span></span> |
| <span data-ttu-id="a2bc9-142">**[DeviceLogonEvents](advanced-hunting-devicelogonevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-142">**[DeviceLogonEvents](advanced-hunting-devicelogonevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-143">Entradas e outros eventos de autenticação</span><span class="sxs-lookup"><span data-stu-id="a2bc9-143">Sign-ins and other authentication events</span></span> |
| <span data-ttu-id="a2bc9-144">**[DeviceImageLoadEvents](advanced-hunting-deviceimageloadevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-144">**[DeviceImageLoadEvents](advanced-hunting-deviceimageloadevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-145">Carregamento de eventos DLL</span><span class="sxs-lookup"><span data-stu-id="a2bc9-145">DLL loading events</span></span> |
| <span data-ttu-id="a2bc9-146">**[Eventos do dispositivo](advanced-hunting-deviceevents-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-146">**[DeviceEvents](advanced-hunting-deviceevents-table.md)**</span></span> | <span data-ttu-id="a2bc9-147">Vários tipos de eventos, incluindo eventos disparados por controles de segurança, como Microsoft Defender Antivírus e proteção de exploração</span><span class="sxs-lookup"><span data-stu-id="a2bc9-147">Multiple event types, including events triggered by security controls such as Microsoft Defender Antivirus and exploit protection</span></span> |
| <span data-ttu-id="a2bc9-148">**[DeviceFileCertificateInfo](advanced-hunting-devicefilecertificateinfo-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-148">**[DeviceFileCertificateInfo](advanced-hunting-devicefilecertificateinfo-table.md)**</span></span> | <span data-ttu-id="a2bc9-149">Informações de certificado de arquivos assinados obtidos de eventos de verificação de certificado em pontos de extremidade</span><span class="sxs-lookup"><span data-stu-id="a2bc9-149">Certificate information of signed files obtained from certificate verification events on endpoints</span></span> |
| <span data-ttu-id="a2bc9-150">**[DeviceTvmSoftwareInventory](advanced-hunting-devicetvmsoftwareinventory-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-150">**[DeviceTvmSoftwareInventory](advanced-hunting-devicetvmsoftwareinventory-table.md)**</span></span> | <span data-ttu-id="a2bc9-151">Inventário de software instalado em dispositivos, incluindo suas informações de versão e status de fim de suporte</span><span class="sxs-lookup"><span data-stu-id="a2bc9-151">Inventory of software installed on devices, including their version information and end-of-support status</span></span> |
| <span data-ttu-id="a2bc9-152">**[DeviceTvmSoftwareVulnerabilities](advanced-hunting-devicetvmsoftwarevulnerabilities-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-152">**[DeviceTvmSoftwareVulnerabilities](advanced-hunting-devicetvmsoftwarevulnerabilities-table.md)**</span></span> | <span data-ttu-id="a2bc9-153">Vulnerabilidades de software encontradas em dispositivos e a lista de atualizações de segurança disponíveis que abordam cada vulnerabilidade</span><span class="sxs-lookup"><span data-stu-id="a2bc9-153">Software vulnerabilities found on devices and the list of available security updates that address each vulnerability</span></span> |
| <span data-ttu-id="a2bc9-154">**[DeviceTvmSoftwareVulnerabilitiesKB](advanced-hunting-devicetvmsoftwarevulnerabilitieskb-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-154">**[DeviceTvmSoftwareVulnerabilitiesKB](advanced-hunting-devicetvmsoftwarevulnerabilitieskb-table.md)**</span></span> | <span data-ttu-id="a2bc9-155">Base de dados de conhecimento de vulnerabilidades divulgadas publicamente, incluindo se o código de exploração está disponível publicamente</span><span class="sxs-lookup"><span data-stu-id="a2bc9-155">Knowledge base of publicly disclosed vulnerabilities, including whether exploit code is publicly available</span></span> |
| <span data-ttu-id="a2bc9-156">**[DeviceTvmSecureConfigurationAssessment](advanced-hunting-devicetvmsecureconfigurationassessment-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-156">**[DeviceTvmSecureConfigurationAssessment](advanced-hunting-devicetvmsecureconfigurationassessment-table.md)**</span></span> | <span data-ttu-id="a2bc9-157">Eventos de avaliação do Gerenciamento de Vulnerabilidades e Ameaças, indicando o status de várias configurações de segurança em dispositivos</span><span class="sxs-lookup"><span data-stu-id="a2bc9-157">Threat & Vulnerability Management assessment events, indicating the status of various security configurations on devices</span></span> |
| <span data-ttu-id="a2bc9-158">**[DeviceTvmSecureConfigurationAssessmentKB](advanced-hunting-devicetvmsecureconfigurationassessmentkb-table.md)**</span><span class="sxs-lookup"><span data-stu-id="a2bc9-158">**[DeviceTvmSecureConfigurationAssessmentKB](advanced-hunting-devicetvmsecureconfigurationassessmentkb-table.md)**</span></span> | <span data-ttu-id="a2bc9-159">Base de dados de conhecimento de várias configurações de segurança usadas pelo Gerenciamento de Vulnerabilidades e Ameaças para avaliar dispositivos; Inclui mapeamentos para vários padrões e benchmarks</span><span class="sxs-lookup"><span data-stu-id="a2bc9-159">Knowledge base of various security configurations used by Threat & Vulnerability Management to assess devices; includes mappings to various standards and benchmarks</span></span> |

>[!TIP]
><span data-ttu-id="a2bc9-160">Use [a busca avançada no Microsoft 365 Defender](/microsoft-365/security/defender/advanced-hunting-overview) para procurar ameaças usando dados do Defender para Ponto de Extremidade, do Microsoft Defender para Office 365, Microsoft Cloud App Security e do Microsoft Defender para Identidade.</span><span class="sxs-lookup"><span data-stu-id="a2bc9-160">Use [advanced hunting in Microsoft 365 Defender](/microsoft-365/security/defender/advanced-hunting-overview) to hunt for threats using data from Defender for Endpoint, Microsoft Defender for Office 365, Microsoft Cloud App Security, and Microsoft Defender for Identity.</span></span> [<span data-ttu-id="a2bc9-161">Ativar o Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="a2bc9-161">Turn on Microsoft 365 Defender</span></span>](/microsoft-365/security/defender/m365d-enable)<br><br>
<span data-ttu-id="a2bc9-162">Saiba mais sobre como mover seus fluxos de trabalho de busca avançados do Microsoft Defender para o Ponto de Extremidade para Microsoft 365 Defender em Migrar consultas de busca avançadas do Microsoft Defender para o Ponto de [Extremidade.](/microsoft-365/security/defender/advanced-hunting-migrate-from-mde)</span><span class="sxs-lookup"><span data-stu-id="a2bc9-162">Learn more about how to move your advanced hunting workflows from Microsoft Defender for Endpoint to Microsoft 365 Defender in [Migrate advanced hunting queries from Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-migrate-from-mde).</span></span>

## <a name="related-topics"></a><span data-ttu-id="a2bc9-163">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="a2bc9-163">Related topics</span></span>
- [<span data-ttu-id="a2bc9-164">Visão geral da busca avançada</span><span class="sxs-lookup"><span data-stu-id="a2bc9-164">Advanced hunting overview</span></span>](advanced-hunting-overview.md)
- [<span data-ttu-id="a2bc9-165">Aprender a linguagem de consulta</span><span class="sxs-lookup"><span data-stu-id="a2bc9-165">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="a2bc9-166">Trabalhar com os resultados da consulta</span><span class="sxs-lookup"><span data-stu-id="a2bc9-166">Work with query results</span></span>](advanced-hunting-query-results.md)
- [<span data-ttu-id="a2bc9-167">Aplicar práticas recomendadas de consulta</span><span class="sxs-lookup"><span data-stu-id="a2bc9-167">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="a2bc9-168">Visão geral de detecções personalizadas</span><span class="sxs-lookup"><span data-stu-id="a2bc9-168">Custom detections overview</span></span>](overview-custom-detections.md)
- [<span data-ttu-id="a2bc9-169">Alterações avançadas no esquema de dados de busca</span><span class="sxs-lookup"><span data-stu-id="a2bc9-169">Advanced hunting data schema changes</span></span>](https://techcommunity.microsoft.com/t5/microsoft-defender-atp/advanced-hunting-data-schema-changes/ba-p/1043914)
