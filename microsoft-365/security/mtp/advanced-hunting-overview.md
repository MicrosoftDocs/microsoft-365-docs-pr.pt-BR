---
title: Visão geral-busca avançada
description: Saiba mais sobre as consultas avançadas de buscas no Microsoft 365 e sobre como usá-las para encontrar ameaças e deficiências na rede de forma proativa
keywords: caça avançada, busca de ameaças, caça à Cyber Threat, proteção contra ameaças da Microsoft, Microsoft 365, MTP, M365, pesquisa, consulta, telemetria, detecções personalizadas, esquema, Kusto, Microsoft 365, proteção contra ameaças da Microsoft
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: microsoft-365-enterprise
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 47035b5c988dba551948334c0c93d08b779c0d38
ms.sourcegitcommit: dffb9b72acd2e0bd286ff7e79c251e7ec6e8ecae
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/17/2020
ms.locfileid: "47950731"
---
# <a name="proactively-hunt-for-threats-with-advanced-hunting-in-microsoft-threat-protection"></a><span data-ttu-id="f7cae-104">Faça buscas proativas por ameaças com a busca avançada da Proteção contra Ameaças da Microsoft</span><span class="sxs-lookup"><span data-stu-id="f7cae-104">Proactively hunt for threats with advanced hunting in Microsoft Threat Protection</span></span>

<span data-ttu-id="f7cae-105">**Aplica-se a:**</span><span class="sxs-lookup"><span data-stu-id="f7cae-105">**Applies to:**</span></span>
- <span data-ttu-id="f7cae-106">Proteção contra Ameaças da Microsoft</span><span class="sxs-lookup"><span data-stu-id="f7cae-106">Microsoft Threat Protection</span></span>

[!INCLUDE [Prerelease information](../includes/prerelease.md)]

<span data-ttu-id="f7cae-107">A busca avançada é uma ferramenta de busca de ameaças baseada em consultas que permite explorar até 30 dias de dados brutos.</span><span class="sxs-lookup"><span data-stu-id="f7cae-107">Advanced hunting is a query-based threat-hunting tool that lets you explore up to 30 days of raw data.</span></span> <span data-ttu-id="f7cae-108">Você pode inspecionar eventos de forma proativa em sua rede para localizar indicadores de ameaça e entidades.</span><span class="sxs-lookup"><span data-stu-id="f7cae-108">You can proactively inspect events in your network to locate threat indicators and entities.</span></span> <span data-ttu-id="f7cae-109">O acesso flexível aos dados permite uma busca irrestrita para ameaças conhecidas e potenciais.</span><span class="sxs-lookup"><span data-stu-id="f7cae-109">The flexible access to data enables unconstrained hunting for both known and potential threats.</span></span>
<p></p>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4Bp7O]

<span data-ttu-id="f7cae-110">Você pode usar as mesmas consultas de busca de ameaças para criar regras de detecção personalizadas.</span><span class="sxs-lookup"><span data-stu-id="f7cae-110">You can use the same threat-hunting queries to build custom detection rules.</span></span> <span data-ttu-id="f7cae-111">Essas regras são executadas automaticamente para verificar e, em seguida, responder à suspeita de atividade de violação, máquinas configuradas incorretamente e outras descobertas.</span><span class="sxs-lookup"><span data-stu-id="f7cae-111">These rules run automatically to check for and then respond to suspected breach activity, misconfigured machines, and other findings.</span></span>

<span data-ttu-id="f7cae-112">Esse recurso é semelhante à [busca avançada no Microsoft defender ATP](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="f7cae-112">This capability is similar to [advanced hunting in Microsoft Defender ATP](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview).</span></span> <span data-ttu-id="f7cae-113">Disponível na central de segurança do Microsoft 365, esse recurso oferece suporte a consultas que verificam um conjunto de dados mais amplo do Microsoft defender ATP, Office 365 ATP, Microsoft Cloud app Security e Azure ATP.</span><span class="sxs-lookup"><span data-stu-id="f7cae-113">Available in Microsoft 365 security center, this capability supports queries that check a broader data set from Microsoft Defender ATP, Office 365 ATP, Microsoft Cloud App Security, and Azure ATP.</span></span> <span data-ttu-id="f7cae-114">Para usar a busca avançada, é necessário [habilitar a Proteção contra Ameaças da Microsoft](mtp-enable.md).</span><span class="sxs-lookup"><span data-stu-id="f7cae-114">To use advanced hunting, [turn on Microsoft Threat Protection](mtp-enable.md).</span></span>

## <a name="get-started-with-advanced-hunting"></a><span data-ttu-id="f7cae-115">Introdução à busca avançada</span><span class="sxs-lookup"><span data-stu-id="f7cae-115">Get started with advanced hunting</span></span>

<span data-ttu-id="f7cae-116">Recomendamos que você execute várias etapas para começar a trabalhar rapidamente com a busca avançada.</span><span class="sxs-lookup"><span data-stu-id="f7cae-116">We recommend going through several steps to quickly get up and running with advanced hunting.</span></span>

| <span data-ttu-id="f7cae-117">Meta de aprendizagem</span><span class="sxs-lookup"><span data-stu-id="f7cae-117">Learning goal</span></span> | <span data-ttu-id="f7cae-118">Descrição</span><span class="sxs-lookup"><span data-stu-id="f7cae-118">Description</span></span> | <span data-ttu-id="f7cae-119">Recurso</span><span class="sxs-lookup"><span data-stu-id="f7cae-119">Resource</span></span> |
|--|--|--|
| <span data-ttu-id="f7cae-120">**Saiba mais sobre o idioma**</span><span class="sxs-lookup"><span data-stu-id="f7cae-120">**Learn the language**</span></span> | <span data-ttu-id="f7cae-121">A busca avançada é baseada na [linguagem de consulta do Kusto](https://docs.microsoft.com/azure/kusto/query/), com suporte para a mesma sintaxe e operadores.</span><span class="sxs-lookup"><span data-stu-id="f7cae-121">Advanced hunting is based on [Kusto query language](https://docs.microsoft.com/azure/kusto/query/), supporting the same syntax and operators.</span></span> <span data-ttu-id="f7cae-122">Comece a aprender a linguagem de consulta executando a primeira consulta.</span><span class="sxs-lookup"><span data-stu-id="f7cae-122">Start learning the query language by running your first query.</span></span> | [<span data-ttu-id="f7cae-123">Visão geral sobre a linguagem de consulta</span><span class="sxs-lookup"><span data-stu-id="f7cae-123">Query language overview</span></span>](advanced-hunting-query-language.md) |
| <span data-ttu-id="f7cae-124">**Saiba como usar os resultados da consulta**</span><span class="sxs-lookup"><span data-stu-id="f7cae-124">**Learn how to use the query results**</span></span> | <span data-ttu-id="f7cae-125">Saiba mais sobre gráficos e várias maneiras de exibir ou exportar os resultados.</span><span class="sxs-lookup"><span data-stu-id="f7cae-125">Learn about charts and various ways you can view or export your results.</span></span> <span data-ttu-id="f7cae-126">Explore como você pode ajustar as consultas rapidamente, faça uma busca detalhada para obter informações mais ricas e execute ações de resposta.</span><span class="sxs-lookup"><span data-stu-id="f7cae-126">Explore how you can quickly tweak queries, drill down to get richer information, and take response actions.</span></span> | <span data-ttu-id="f7cae-127">- [Trabalhar com resultados de consulta](advanced-hunting-query-results.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-127">- [Work with query results](advanced-hunting-query-results.md)</span></span><br><span data-ttu-id="f7cae-128">- [Executar ação nos resultados da consulta](advanced-hunting-take-action.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-128">- [Take action on query results](advanced-hunting-take-action.md)</span></span> |
| <span data-ttu-id="f7cae-129">**Compreender o esquema**</span><span class="sxs-lookup"><span data-stu-id="f7cae-129">**Understand the schema**</span></span> | <span data-ttu-id="f7cae-130">Obtenha uma compreensão de alto nível das tabelas no esquema e em suas colunas.</span><span class="sxs-lookup"><span data-stu-id="f7cae-130">Get a good, high-level understanding of the tables in the schema and their columns.</span></span> <span data-ttu-id="f7cae-131">Saiba onde procurar dados ao criar suas consultas.</span><span class="sxs-lookup"><span data-stu-id="f7cae-131">Learn where to look for data when constructing your queries.</span></span> | [<span data-ttu-id="f7cae-132">Referência de esquema</span><span class="sxs-lookup"><span data-stu-id="f7cae-132">Schema reference</span></span>](advanced-hunting-schema-tables.md) |
| <span data-ttu-id="f7cae-133">**Obter dicas e exemplos de especialistas**</span><span class="sxs-lookup"><span data-stu-id="f7cae-133">**Get expert tips and examples**</span></span> | <span data-ttu-id="f7cae-134">Treine gratuitamente com guias de especialistas da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f7cae-134">Train for free with guides from Microsoft experts.</span></span> <span data-ttu-id="f7cae-135">Explore coleções de consultas predefinidas que abrangem diferentes cenários de exploração de ameaças.</span><span class="sxs-lookup"><span data-stu-id="f7cae-135">Explore collections of predefined queries covering different threat hunting scenarios.</span></span> | <span data-ttu-id="f7cae-136">- [Obter treinamento especializado](advanced-hunting-expert-training.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-136">- [Get expert training](advanced-hunting-expert-training.md)</span></span><br><span data-ttu-id="f7cae-137">- [Usar consultas compartilhadas](advanced-hunting-shared-queries.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-137">- [Use shared queries](advanced-hunting-shared-queries.md)</span></span><br><span data-ttu-id="f7cae-138">- [Busca de ir](advanced-hunting-go-hunt.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-138">- [Go hunt](advanced-hunting-go-hunt.md)</span></span><br><span data-ttu-id="f7cae-139">- [Busca de ameaças em dispositivos, emails, aplicativos e identidades](advanced-hunting-query-emails-devices.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-139">- [Hunt for threats across devices, emails, apps, and identities](advanced-hunting-query-emails-devices.md)</span></span> |
| <span data-ttu-id="f7cae-140">**Otimizar consultas e lidar com erros**</span><span class="sxs-lookup"><span data-stu-id="f7cae-140">**Optimize queries and handle errors**</span></span> | <span data-ttu-id="f7cae-141">Saiba como criar consultas eficientes e livres de erros.</span><span class="sxs-lookup"><span data-stu-id="f7cae-141">Understand how to create efficient and error-free queries.</span></span> | <span data-ttu-id="f7cae-142">- [Práticas recomendadas de consulta](advanced-hunting-best-practices.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-142">- [Query best practices](advanced-hunting-best-practices.md)</span></span><br><span data-ttu-id="f7cae-143">- [Manipular erros](advanced-hunting-errors.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-143">- [Handle errors](advanced-hunting-errors.md)</span></span> |
| <span data-ttu-id="f7cae-144">**Criar regras de detecção personalizadas**</span><span class="sxs-lookup"><span data-stu-id="f7cae-144">**Create custom detection rules**</span></span> | <span data-ttu-id="f7cae-145">Saiba como você pode usar consultas de busca avançada para disparar alertas e realizar ações de resposta automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f7cae-145">Understand how you can use advanced hunting queries to trigger alerts and take response actions automatically.</span></span> | <span data-ttu-id="f7cae-146">- [Visão geral das detecções personalizadas](custom-detections-overview.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-146">- [Custom detections overview](custom-detections-overview.md)</span></span><br><span data-ttu-id="f7cae-147">- [Regras de detecção personalizadas](custom-detection-rules.md)</span><span class="sxs-lookup"><span data-stu-id="f7cae-147">- [Custom detection rules](custom-detection-rules.md)</span></span> |

## <a name="get-access"></a><span data-ttu-id="f7cae-148">Obter acesso</span><span class="sxs-lookup"><span data-stu-id="f7cae-148">Get access</span></span>
<span data-ttu-id="f7cae-149">Para usar a busca avançada ou outros recursos de [proteção contra ameaças da Microsoft](microsoft-threat-protection.md) , você precisa de uma função apropriada no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="f7cae-149">To use advanced hunting or other [Microsoft Threat Protection](microsoft-threat-protection.md) capabilities, you need an appropriate role in Azure Active Directory.</span></span> <span data-ttu-id="f7cae-150">Além disso, seu acesso aos dados do ponto de extremidade é determinado pelas configurações do controle de acesso baseado em função (RBAC) no Microsoft defender ATP.</span><span class="sxs-lookup"><span data-stu-id="f7cae-150">Also, your access to endpoint data is determined by role-based access control (RBAC) settings in Microsoft Defender ATP.</span></span> [<span data-ttu-id="f7cae-151">Ler sobre como gerenciar o acesso à proteção contra ameaças da Microsoft</span><span class="sxs-lookup"><span data-stu-id="f7cae-151">Read about managing access to Microsoft Threat Protection</span></span>](mtp-permissions.md)

## <a name="data-freshness-and-update-frequency"></a><span data-ttu-id="f7cae-152">Atualização de dados e frequência de atualização</span><span class="sxs-lookup"><span data-stu-id="f7cae-152">Data freshness and update frequency</span></span>
<span data-ttu-id="f7cae-153">Dados de busca avançada podem ser categorizados em dois tipos distintos, cada um consolidado de forma diferente.</span><span class="sxs-lookup"><span data-stu-id="f7cae-153">Advanced hunting data can be categorized into two distinct types, each consolidated differently.</span></span>

- <span data-ttu-id="f7cae-154">**Dados de evento ou atividade**— preenche tabelas sobre alertas, eventos de segurança, eventos do sistema e avaliações de rotina.</span><span class="sxs-lookup"><span data-stu-id="f7cae-154">**Event or activity data**—populates tables about alerts, security events, system events, and routine assessments.</span></span> <span data-ttu-id="f7cae-155">A busca avançada recebe esses dados quase imediatamente após os sensores que os coletam com êxito para transmiti-los para os serviços de nuvem correspondentes.</span><span class="sxs-lookup"><span data-stu-id="f7cae-155">Advanced hunting receives this data almost immediately after the sensors that collect them successfully transmit them to the corresponding cloud services.</span></span> <span data-ttu-id="f7cae-156">Por exemplo, você pode consultar dados de eventos de sensores saudáveis em estações de trabalho ou controladores de domínio quase imediatamente após estarem disponíveis no Microsoft defender ATP e no Azure ATP.</span><span class="sxs-lookup"><span data-stu-id="f7cae-156">For example, you can query event data from healthy sensors on workstations or domain controllers almost immediately after they are available on Microsoft Defender ATP and Azure ATP.</span></span>
- <span data-ttu-id="f7cae-157">**Dados da entidade**— preenche tabelas com informações consolidadas sobre usuários e dispositivos.</span><span class="sxs-lookup"><span data-stu-id="f7cae-157">**Entity data**—populates tables with consolidated information about users and devices.</span></span> <span data-ttu-id="f7cae-158">Esses dados são provenientes de fontes de dados relativamente estáticas e fontes dinâmicas, como entradas do Active Directory e logs de eventos.</span><span class="sxs-lookup"><span data-stu-id="f7cae-158">This data comes from both relatively static data sources and dynamic sources, such as Active Directory entries and event logs.</span></span> <span data-ttu-id="f7cae-159">Para fornecer dados atualizados, as tabelas são atualizadas com qualquer informação nova a cada 15 minutos, adicionando linhas que podem não estar totalmente preenchidas.</span><span class="sxs-lookup"><span data-stu-id="f7cae-159">To provide fresh data, tables are updated with any new information every 15 minutes, adding rows that might not be fully populated.</span></span> <span data-ttu-id="f7cae-160">A cada 24 horas, os dados são consolidados para inserir um registro que contém o conjunto de dados mais recente e mais abrangente sobre cada entidade.</span><span class="sxs-lookup"><span data-stu-id="f7cae-160">Every 24 hours, data is consolidated to insert a record that contains the latest, most comprehensive data set about each entity.</span></span>

## <a name="time-zone"></a><span data-ttu-id="f7cae-161">Fuso horário</span><span class="sxs-lookup"><span data-stu-id="f7cae-161">Time zone</span></span>
<span data-ttu-id="f7cae-162">As informações de tempo em busca avançada estão no fuso horário UTC.</span><span class="sxs-lookup"><span data-stu-id="f7cae-162">Time information in advanced hunting is in the UTC time zone.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f7cae-163">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="f7cae-163">Related topics</span></span>
- [<span data-ttu-id="f7cae-164">Aprender a linguagem de consulta</span><span class="sxs-lookup"><span data-stu-id="f7cae-164">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="f7cae-165">Obter treinamento especializado</span><span class="sxs-lookup"><span data-stu-id="f7cae-165">Get expert training</span></span>](advanced-hunting-expert-training.md)
- [<span data-ttu-id="f7cae-166">Usar consultas compartilhadas</span><span class="sxs-lookup"><span data-stu-id="f7cae-166">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="f7cae-167">Entender o esquema</span><span class="sxs-lookup"><span data-stu-id="f7cae-167">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="f7cae-168">Aplicar práticas recomendadas de consulta</span><span class="sxs-lookup"><span data-stu-id="f7cae-168">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="f7cae-169">Visão geral de detecções personalizadas</span><span class="sxs-lookup"><span data-stu-id="f7cae-169">Custom detections overview</span></span>](custom-detections-overview.md)

