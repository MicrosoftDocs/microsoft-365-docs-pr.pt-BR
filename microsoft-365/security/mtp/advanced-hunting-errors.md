---
title: Lidar com erros na busca avançada pelo Microsoft 365 Defender
description: Entender os erros exibidos ao usar a busca avançada
keywords: busca avançada, busca de ameaças, busca de ameaças cibernéticas, proteção contra ameaças da Microsoft, microsoft 365, mtp, m365, pesquisa, consulta, telemetria, esquema, kusto, tempo limite, recursos, erros, erro desconhecido, limites, cota, parâmetro, alocação
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection:
- M365-security-compliance
- m365initiative-m365-defender
ms.topic: article
ms.technology: m365d
ms.openlocfilehash: 645e78de9d7a8a779be8741a7471e9c1a88ba538
ms.sourcegitcommit: 855719ee21017cf87dfa98cbe62806763bcb78ac
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/22/2021
ms.locfileid: "49929641"
---
# <a name="handle-advanced-hunting-errors"></a><span data-ttu-id="c95a3-104">Lidar com erros de busca avançada</span><span class="sxs-lookup"><span data-stu-id="c95a3-104">Handle advanced hunting errors</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender.md)]


<span data-ttu-id="c95a3-105">A busca avançada exibe erros para notificar erros de sintaxe e sempre que as consultas atingem [cotas e parâmetros de uso predefinidos.](advanced-hunting-limits.md)</span><span class="sxs-lookup"><span data-stu-id="c95a3-105">Advanced hunting displays errors to notify for syntax mistakes and whenever queries hit [predefined quotas and usage parameters](advanced-hunting-limits.md).</span></span> <span data-ttu-id="c95a3-106">Consulte a tabela abaixo para ver dicas sobre como resolver ou evitar erros.</span><span class="sxs-lookup"><span data-stu-id="c95a3-106">Refer to the table below for tips on how to resolve or avoid errors.</span></span>

| <span data-ttu-id="c95a3-107">Tipo de erro</span><span class="sxs-lookup"><span data-stu-id="c95a3-107">Error type</span></span> | <span data-ttu-id="c95a3-108">Causa</span><span class="sxs-lookup"><span data-stu-id="c95a3-108">Cause</span></span> | <span data-ttu-id="c95a3-109">Resolução</span><span class="sxs-lookup"><span data-stu-id="c95a3-109">Resolution</span></span> | <span data-ttu-id="c95a3-110">Exemplos de mensagem de erro</span><span class="sxs-lookup"><span data-stu-id="c95a3-110">Error message examples</span></span> |
|--|--|--|--|
| <span data-ttu-id="c95a3-111">Erros de sintaxe</span><span class="sxs-lookup"><span data-stu-id="c95a3-111">Syntax errors</span></span> | <span data-ttu-id="c95a3-112">A consulta contém nomes não conhecidos, incluindo referências a operadores, colunas, funções ou tabelas inexistentes.</span><span class="sxs-lookup"><span data-stu-id="c95a3-112">The query contains unrecognized names, including references to nonexistent operators, columns, functions, or tables.</span></span> | <span data-ttu-id="c95a3-113">Certifique-se de que as referências a operadores e [funções kusto estão corretas.](https://docs.microsoft.com/azure/data-explorer/kusto/query/)</span><span class="sxs-lookup"><span data-stu-id="c95a3-113">Ensure references to [Kusto operators and functions](https://docs.microsoft.com/azure/data-explorer/kusto/query/) are correct.</span></span> <span data-ttu-id="c95a3-114">Verifique [o esquema das](advanced-hunting-schema-tables.md) colunas, funções e tabelas de busca avançada corretas.</span><span class="sxs-lookup"><span data-stu-id="c95a3-114">Check [the schema](advanced-hunting-schema-tables.md) for the correct advanced hunting columns, functions, and tables.</span></span> <span data-ttu-id="c95a3-115">Coloque as cadeias de caracteres variáveis entre aspas para que sejam reconhecidas.</span><span class="sxs-lookup"><span data-stu-id="c95a3-115">Enclose variable strings in quotes so they are recognized.</span></span> <span data-ttu-id="c95a3-116">Ao escrever suas consultas, use as sugestões de preenchimento automático do IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="c95a3-116">While writing your queries, use the autocomplete suggestions from IntelliSense.</span></span> | `A recognition error occurred.` |
| <span data-ttu-id="c95a3-117">Erros semânticos</span><span class="sxs-lookup"><span data-stu-id="c95a3-117">Semantic errors</span></span> | <span data-ttu-id="c95a3-118">Embora a consulta use nomes válidos de operador, coluna, função ou tabela, há erros em sua estrutura e lógica resultante.</span><span class="sxs-lookup"><span data-stu-id="c95a3-118">While the query uses valid operator, column, function, or table names, there are errors in its structure and resulting logic.</span></span> <span data-ttu-id="c95a3-119">Em alguns casos, a busca avançada identifica o operador específico que causou o erro.</span><span class="sxs-lookup"><span data-stu-id="c95a3-119">In some cases, advanced hunting identifies the specific operator that caused the error.</span></span> | <span data-ttu-id="c95a3-120">Verifique se há erros na estrutura da consulta.</span><span class="sxs-lookup"><span data-stu-id="c95a3-120">Check for errors in the structure of query.</span></span> <span data-ttu-id="c95a3-121">Consulte a [documentação do Kusto](https://docs.microsoft.com/azure/data-explorer/kusto/query/) para obter orientação.</span><span class="sxs-lookup"><span data-stu-id="c95a3-121">Refer to [Kusto documentation](https://docs.microsoft.com/azure/data-explorer/kusto/query/) for guidance.</span></span> <span data-ttu-id="c95a3-122">Ao escrever suas consultas, use as sugestões de preenchimento automático do IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="c95a3-122">While writing your queries, use the autocomplete suggestions from IntelliSense.</span></span> |  `'project' operator: Failed to resolve scalar expression named 'x'`|
| <span data-ttu-id="c95a3-123">Tempos-e-tempos</span><span class="sxs-lookup"><span data-stu-id="c95a3-123">Timeouts</span></span> | <span data-ttu-id="c95a3-124">Uma consulta só pode ser executado dentro de um [período limitado antes do tempo limite.](advanced-hunting-limits.md) Esse erro pode acontecer com mais frequência ao executar consultas complexas.</span><span class="sxs-lookup"><span data-stu-id="c95a3-124">A query can only run within a [limited period before timing out](advanced-hunting-limits.md). This error can happen more frequently when running complex queries.</span></span> | [<span data-ttu-id="c95a3-125">Otimizar a consulta</span><span class="sxs-lookup"><span data-stu-id="c95a3-125">Optimize the query</span></span>](advanced-hunting-best-practices.md) | `Query exceeded the timeout period.` |
| <span data-ttu-id="c95a3-126">Throttling de CPU</span><span class="sxs-lookup"><span data-stu-id="c95a3-126">CPU throttling</span></span> | <span data-ttu-id="c95a3-127">As consultas no mesmo locatário excederam os recursos [da CPU](advanced-hunting-limits.md) que foram alocados com base no tamanho do locatário.</span><span class="sxs-lookup"><span data-stu-id="c95a3-127">Queries in the same tenant have exceeded the [CPU resources](advanced-hunting-limits.md) that have been allocated based on tenant size.</span></span> | <span data-ttu-id="c95a3-128">O serviço verifica o uso de recursos da CPU a cada 15 minutos e diariamente e exibe avisos depois que o uso excede 10% da cota alocada.</span><span class="sxs-lookup"><span data-stu-id="c95a3-128">The service checks CPU resource usage every 15 minutes and daily and displays warnings after usage exceeds 10% of the allocated quota.</span></span> <span data-ttu-id="c95a3-129">Se você alcançar uma utilização de 100%, o serviço bloqueará as consultas até o próximo ciclo diário ou de 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="c95a3-129">If you reach 100% utilization, the service blocks queries until after the next daily or 15-minute cycle.</span></span> [<span data-ttu-id="c95a3-130">Otimize suas consultas para evitar atingir cotas de CPU</span><span class="sxs-lookup"><span data-stu-id="c95a3-130">Optimize your queries to avoid hitting CPU quotas</span></span>](advanced-hunting-best-practices.md) | - `This query used X% of your organization's allocated resources for the current 15 minutes.`<br>- `You have exceeded processing resources allocated to this tenant. You can run queries again in <duration>.` |
| <span data-ttu-id="c95a3-131">Limite de tamanho dos resultados excedido</span><span class="sxs-lookup"><span data-stu-id="c95a3-131">Result size limit exceeded</span></span>  | <span data-ttu-id="c95a3-132">O tamanho agregado do conjunto de resultados para a consulta excedeu o tamanho máximo.</span><span class="sxs-lookup"><span data-stu-id="c95a3-132">The aggregate size of the result set for the query has exceeded the maximum size.</span></span> <span data-ttu-id="c95a3-133">Esse erro poderá ocorrer se o conjunto de resultados for tão grande que o truncamento no limite de 10.000 registros não poderá reduzi-lo a um tamanho aceitável.</span><span class="sxs-lookup"><span data-stu-id="c95a3-133">This error can occur if the result set is so large that truncation at the 10,000-record limit can't reduce it to an acceptable size.</span></span> <span data-ttu-id="c95a3-134">Os resultados com várias colunas com conteúdoizável têm maior probabilidade de serem afetados por esse erro.</span><span class="sxs-lookup"><span data-stu-id="c95a3-134">Results that have multiple columns with sizable content are more likely to be impacted by this error.</span></span> | [<span data-ttu-id="c95a3-135">Otimizar a consulta</span><span class="sxs-lookup"><span data-stu-id="c95a3-135">Optimize the query</span></span>](advanced-hunting-best-practices.md) | `Result size limit exceeded. Use "summarize" to aggregate results, "project" to drop uninteresting columns, or "take" to truncate results.` |
| <span data-ttu-id="c95a3-136">Consumo excessivo de recursos</span><span class="sxs-lookup"><span data-stu-id="c95a3-136">Excessive resource consumption</span></span> | <span data-ttu-id="c95a3-137">A consulta consumiu quantidades excessivas de recursos e foi impedida de concluir.</span><span class="sxs-lookup"><span data-stu-id="c95a3-137">The query has consumed excessive amounts of resources and has been stopped from completing.</span></span> <span data-ttu-id="c95a3-138">Em alguns casos, a busca avançada identifica o operador específico que não foi otimizado.</span><span class="sxs-lookup"><span data-stu-id="c95a3-138">In some cases, advanced hunting identifies the specific operator that wasn't optimized.</span></span> | [<span data-ttu-id="c95a3-139">Otimizar a consulta</span><span class="sxs-lookup"><span data-stu-id="c95a3-139">Optimize the query</span></span>](advanced-hunting-best-practices.md) | -`Query stopped due to excessive resource consumption.`<br>-`Query stopped. Adjust use of the <operator name> operator to avoid excessive resource consumption.` |
| <span data-ttu-id="c95a3-140">Erros desconhecidos</span><span class="sxs-lookup"><span data-stu-id="c95a3-140">Unknown errors</span></span> | <span data-ttu-id="c95a3-141">A consulta falhou devido a um motivo desconhecido.</span><span class="sxs-lookup"><span data-stu-id="c95a3-141">The query failed because of an unknown reason.</span></span> | <span data-ttu-id="c95a3-142">Tente executar a consulta novamente.</span><span class="sxs-lookup"><span data-stu-id="c95a3-142">Try running the query again.</span></span> <span data-ttu-id="c95a3-143">Entre em contato com a Microsoft por meio do portal se as consultas continuarem a retornar erros desconhecidos.</span><span class="sxs-lookup"><span data-stu-id="c95a3-143">Contact Microsoft through the portal if queries continue to return unknown errors.</span></span> | `An unexpected error occurred during query execution. Please try again in a few minutes.`

## <a name="related-topics"></a><span data-ttu-id="c95a3-144">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c95a3-144">Related topics</span></span>
- [<span data-ttu-id="c95a3-145">Práticas recomendadas de busca avançada</span><span class="sxs-lookup"><span data-stu-id="c95a3-145">Advanced hunting best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="c95a3-146">Cotas e parâmetros de uso</span><span class="sxs-lookup"><span data-stu-id="c95a3-146">Quotas and usage parameters</span></span>](advanced-hunting-limits.md)
- [<span data-ttu-id="c95a3-147">Compreender o esquema</span><span class="sxs-lookup"><span data-stu-id="c95a3-147">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="c95a3-148">Visão geral da linguagem de consulta Kusto</span><span class="sxs-lookup"><span data-stu-id="c95a3-148">Kusto Query Language overview</span></span>](https://docs.microsoft.com/azure/data-explorer/kusto/query/)
