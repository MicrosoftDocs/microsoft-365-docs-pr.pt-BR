---
title: Visão geral - Busca avançada
description: Saiba mais sobre as consultas avançadas de buscas no Microsoft 365 e sobre como usá-las para encontrar ameaças e deficiências na rede de forma proativa
keywords: busca avançada, busca de ameaças, busca de ameaças cibernéticas, Microsoft 365 Defender, microsoft 365, m365, pesquisa, consulta, telemetria, detecções personalizadas, esquema, kusto
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: m365-security
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: maccruz
author: schmurky
localization_priority: Normal
manager: dansimp
audience: ITPro
ms.collection:
- M365-security-compliance
- m365initiative-m365-defender
ms.topic: article
ms.custom: seo-marvel-apr2020
ms.technology: m365d
ms.openlocfilehash: df48ec921dee7d8f3b441ed3f68ed148c5c6c857
ms.sourcegitcommit: a8d8cee7df535a150985d6165afdfddfdf21f622
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/21/2021
ms.locfileid: "51932972"
---
# <a name="proactively-hunt-for-threats-with-advanced-hunting-in-microsoft-365-defender"></a><span data-ttu-id="72677-104">Busca proativamente por ameaças com busca avançada no Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="72677-104">Proactively hunt for threats with advanced hunting in Microsoft 365 Defender</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender.md)]


<span data-ttu-id="72677-105">**Aplica-se a:**</span><span class="sxs-lookup"><span data-stu-id="72677-105">**Applies to:**</span></span>
- <span data-ttu-id="72677-106">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="72677-106">Microsoft 365 Defender</span></span>

> <span data-ttu-id="72677-107">Quer experimentar o Microsoft 365 Defender?</span><span class="sxs-lookup"><span data-stu-id="72677-107">Want to experience Microsoft 365 Defender?</span></span> <span data-ttu-id="72677-108">Você pode [avaliá-lo em um ambiente de laboratório](m365d-evaluation.md?ocid=cx-docs-MTPtriallab) ou [executar seu projeto piloto em produção](m365d-pilot.md?ocid=cx-evalpilot).</span><span class="sxs-lookup"><span data-stu-id="72677-108">You can [evaluate it in a lab environment](m365d-evaluation.md?ocid=cx-docs-MTPtriallab) or [run your pilot project in production](m365d-pilot.md?ocid=cx-evalpilot).</span></span>
>

<span data-ttu-id="72677-109">A busca avançada é uma ferramenta de busca de ameaças baseada em consultas que permite explorar até 30 dias de dados brutos.</span><span class="sxs-lookup"><span data-stu-id="72677-109">Advanced hunting is a query-based threat-hunting tool that lets you explore up to 30 days of raw data.</span></span> <span data-ttu-id="72677-110">Você pode inspecionar proativamente eventos em sua rede para localizar indicadores e entidades de ameaça.</span><span class="sxs-lookup"><span data-stu-id="72677-110">You can proactively inspect events in your network to locate threat indicators and entities.</span></span> <span data-ttu-id="72677-111">O acesso flexível aos dados permite a busca não restrita por ameaças conhecidas e potenciais.</span><span class="sxs-lookup"><span data-stu-id="72677-111">The flexible access to data enables unconstrained hunting for both known and potential threats.</span></span>
<p></p>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4Bp7O]

<span data-ttu-id="72677-112">Você pode usar as mesmas consultas de busca de ameaças para criar regras de detecção personalizadas.</span><span class="sxs-lookup"><span data-stu-id="72677-112">You can use the same threat-hunting queries to build custom detection rules.</span></span> <span data-ttu-id="72677-113">Essas regras são executados automaticamente para verificar e responder a atividades suspeitas de violação, máquinas mal configuradas e outras descobertas.</span><span class="sxs-lookup"><span data-stu-id="72677-113">These rules run automatically to check for and then respond to suspected breach activity, misconfigured machines, and other findings.</span></span>

<span data-ttu-id="72677-114">Esse recurso é semelhante à busca [avançada no Microsoft Defender para Ponto de Extremidade.](/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="72677-114">This capability is similar to [advanced hunting in Microsoft Defender for Endpoint](/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview).</span></span> <span data-ttu-id="72677-115">Disponível no Centro de segurança do Microsoft 365, esse recurso oferece suporte a consultas que verificam um conjunto de dados mais amplo de:</span><span class="sxs-lookup"><span data-stu-id="72677-115">Available in Microsoft 365 security center, this capability supports queries that check a broader data set from:</span></span>

- <span data-ttu-id="72677-116">Microsoft Defender para Ponto de Extremidade</span><span class="sxs-lookup"><span data-stu-id="72677-116">Microsoft Defender for Endpoint</span></span>
- <span data-ttu-id="72677-117">Microsoft Defender para Office 365</span><span class="sxs-lookup"><span data-stu-id="72677-117">Microsoft Defender for Office 365</span></span>
- <span data-ttu-id="72677-118">Microsoft Cloud App Security</span><span class="sxs-lookup"><span data-stu-id="72677-118">Microsoft Cloud App Security</span></span>
- <span data-ttu-id="72677-119">Microsoft Defender para Identidade?</span><span class="sxs-lookup"><span data-stu-id="72677-119">Microsoft Defender for Identity</span></span>

<span data-ttu-id="72677-120">Para usar a busca avançada, [a ligue o Microsoft 365 Defender](m365d-enable.md).</span><span class="sxs-lookup"><span data-stu-id="72677-120">To use advanced hunting, [turn on Microsoft 365 Defender](m365d-enable.md).</span></span>

### <a name="before-you-begin"></a><span data-ttu-id="72677-121">Antes de começar</span><span class="sxs-lookup"><span data-stu-id="72677-121">Before you begin</span></span>

<span data-ttu-id="72677-122">Os usuários precisam de um dos seguintes níveis de permissões para acessar o Microsoft Defender:</span><span class="sxs-lookup"><span data-stu-id="72677-122">Users need one of the following levels of permissions to access Microsoft Defender:</span></span>

- <span data-ttu-id="72677-123">Acesso completo (leitura e gravação)</span><span class="sxs-lookup"><span data-stu-id="72677-123">Full access (read and write)</span></span>
- <span data-ttu-id="72677-124">Acesso somente leitura</span><span class="sxs-lookup"><span data-stu-id="72677-124">Read-only access</span></span>

<span data-ttu-id="72677-125">**Acesso total:** os usuários com acesso total podem salvar, modificar e compartilhar uma consulta.</span><span class="sxs-lookup"><span data-stu-id="72677-125">**Full access**: Users with full access can save, modify, and share a query.</span></span> <span data-ttu-id="72677-126">A atribuição de direitos de acesso completo requer a adição dos usuários às funções internas "Administrador de Segurança" ou "Administrador Global" no Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="72677-126">Assigning full access rights requires adding the users to the "Security Administrator" or "Global Administrator" built-in roles in Azure Active Directory (AAD).</span></span>

<span data-ttu-id="72677-127">**Acesso somente leitura:** os usuários com acesso somente leitura podem fazer logoff e exibir todos os alertas e informações relacionadas.</span><span class="sxs-lookup"><span data-stu-id="72677-127">**Read-only access**: Users with read-only access can log in and view all alerts and related information.</span></span> <span data-ttu-id="72677-128">Eles não poderão salvar, modificar ou compartilhar uma consulta.</span><span class="sxs-lookup"><span data-stu-id="72677-128">They will not be able to save, modify, or share a query.</span></span> <span data-ttu-id="72677-129">Atribuir direitos de acesso somente leitura requer adicionar os usuários à função interna "Leitor de Segurança" no AAD.</span><span class="sxs-lookup"><span data-stu-id="72677-129">Assigning read-only access rights requires adding the users to the "Security Reader" built-in role in AAD.</span></span>

## <a name="get-started-with-advanced-hunting"></a><span data-ttu-id="72677-130">Introdução à busca avançada</span><span class="sxs-lookup"><span data-stu-id="72677-130">Get started with advanced hunting</span></span>

<span data-ttu-id="72677-131">Recomendamos passar por várias etapas para começar rapidamente com a busca avançada.</span><span class="sxs-lookup"><span data-stu-id="72677-131">We recommend going through several steps to quickly get started with advanced hunting.</span></span>

| <span data-ttu-id="72677-132">Meta de aprendizagem</span><span class="sxs-lookup"><span data-stu-id="72677-132">Learning goal</span></span> | <span data-ttu-id="72677-133">Descrição</span><span class="sxs-lookup"><span data-stu-id="72677-133">Description</span></span> | <span data-ttu-id="72677-134">Recurso</span><span class="sxs-lookup"><span data-stu-id="72677-134">Resource</span></span> |
|--|--|--|
| <span data-ttu-id="72677-135">**Aprenda o idioma**</span><span class="sxs-lookup"><span data-stu-id="72677-135">**Learn the language**</span></span> | <span data-ttu-id="72677-136">A busca avançada baseia-se [na linguagem de consulta Kusto](/azure/kusto/query/), suportando a mesma sintaxe e operadores.</span><span class="sxs-lookup"><span data-stu-id="72677-136">Advanced hunting is based on [Kusto query language](/azure/kusto/query/), supporting the same syntax and operators.</span></span> <span data-ttu-id="72677-137">Comece a aprender a linguagem de consulta executando a primeira consulta.</span><span class="sxs-lookup"><span data-stu-id="72677-137">Start learning the query language by running your first query.</span></span> | [<span data-ttu-id="72677-138">Visão geral sobre a linguagem de consulta</span><span class="sxs-lookup"><span data-stu-id="72677-138">Query language overview</span></span>](advanced-hunting-query-language.md) |
| <span data-ttu-id="72677-139">**Saiba como usar os resultados da consulta**</span><span class="sxs-lookup"><span data-stu-id="72677-139">**Learn how to use the query results**</span></span> | <span data-ttu-id="72677-140">Saiba mais sobre gráficos e várias maneiras de exibir ou exportar seus resultados.</span><span class="sxs-lookup"><span data-stu-id="72677-140">Learn about charts and various ways you can view or export your results.</span></span> <span data-ttu-id="72677-141">Explore como você pode ajustar rapidamente as consultas, fazer uma análise mais profunda para obter informações mais ricas e tomar ações de resposta.</span><span class="sxs-lookup"><span data-stu-id="72677-141">Explore how you can quickly tweak queries, drill down to get richer information, and take response actions.</span></span> | <span data-ttu-id="72677-142">- [Trabalhar com resultados de consulta](advanced-hunting-query-results.md)</span><span class="sxs-lookup"><span data-stu-id="72677-142">- [Work with query results](advanced-hunting-query-results.md)</span></span><br><span data-ttu-id="72677-143">- [Tomar medidas sobre os resultados da consulta](advanced-hunting-take-action.md)</span><span class="sxs-lookup"><span data-stu-id="72677-143">- [Take action on query results](advanced-hunting-take-action.md)</span></span> |
| <span data-ttu-id="72677-144">**Compreender o esquema**</span><span class="sxs-lookup"><span data-stu-id="72677-144">**Understand the schema**</span></span> | <span data-ttu-id="72677-145">Obtenha uma compreensão de alto nível das tabelas no esquema e em suas colunas.</span><span class="sxs-lookup"><span data-stu-id="72677-145">Get a good, high-level understanding of the tables in the schema and their columns.</span></span> <span data-ttu-id="72677-146">Saiba onde procurar dados ao construir suas consultas.</span><span class="sxs-lookup"><span data-stu-id="72677-146">Learn where to look for data when constructing your queries.</span></span> | <span data-ttu-id="72677-147">- [Referência de esquema](advanced-hunting-schema-tables.md)</span><span class="sxs-lookup"><span data-stu-id="72677-147">- [Schema reference](advanced-hunting-schema-tables.md)</span></span><br><span data-ttu-id="72677-148">- [Transição do Microsoft Defender para o Ponto de Extremidade](advanced-hunting-migrate-from-mde.md)</span><span class="sxs-lookup"><span data-stu-id="72677-148">- [Transition from Microsoft Defender for Endpoint](advanced-hunting-migrate-from-mde.md)</span></span> |
| <span data-ttu-id="72677-149">**Obter dicas e exemplos de especialistas**</span><span class="sxs-lookup"><span data-stu-id="72677-149">**Get expert tips and examples**</span></span> | <span data-ttu-id="72677-150">Treine gratuitamente com guias de especialistas da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="72677-150">Train for free with guides from Microsoft experts.</span></span> <span data-ttu-id="72677-151">Explore coleções de consultas predefinidas que abrangem diferentes cenários de exploração de ameaças.</span><span class="sxs-lookup"><span data-stu-id="72677-151">Explore collections of predefined queries covering different threat hunting scenarios.</span></span> | <span data-ttu-id="72677-152">- [Obter treinamento especializado](advanced-hunting-expert-training.md)</span><span class="sxs-lookup"><span data-stu-id="72677-152">- [Get expert training](advanced-hunting-expert-training.md)</span></span><br><span data-ttu-id="72677-153">- [Usar consultas compartilhadas](advanced-hunting-shared-queries.md)</span><span class="sxs-lookup"><span data-stu-id="72677-153">- [Use shared queries](advanced-hunting-shared-queries.md)</span></span><br><span data-ttu-id="72677-154">- [Ir procurar](advanced-hunting-go-hunt.md)</span><span class="sxs-lookup"><span data-stu-id="72677-154">- [Go hunt](advanced-hunting-go-hunt.md)</span></span><br><span data-ttu-id="72677-155">- [Procurar ameaças em dispositivos, emails, aplicativos e identidades](advanced-hunting-query-emails-devices.md)</span><span class="sxs-lookup"><span data-stu-id="72677-155">- [Hunt for threats across devices, emails, apps, and identities](advanced-hunting-query-emails-devices.md)</span></span> |
| <span data-ttu-id="72677-156">**Otimizar consultas e manipular erros**</span><span class="sxs-lookup"><span data-stu-id="72677-156">**Optimize queries and handle errors**</span></span> | <span data-ttu-id="72677-157">Entenda como criar consultas eficientes e sem erros.</span><span class="sxs-lookup"><span data-stu-id="72677-157">Understand how to create efficient and error-free queries.</span></span> | <span data-ttu-id="72677-158">- [Práticas recomendadas de consulta](advanced-hunting-best-practices.md)</span><span class="sxs-lookup"><span data-stu-id="72677-158">- [Query best practices](advanced-hunting-best-practices.md)</span></span><br><span data-ttu-id="72677-159">- [Manipular erros](advanced-hunting-errors.md)</span><span class="sxs-lookup"><span data-stu-id="72677-159">- [Handle errors](advanced-hunting-errors.md)</span></span> |
| <span data-ttu-id="72677-160">**Criar regras de detecção personalizadas**</span><span class="sxs-lookup"><span data-stu-id="72677-160">**Create custom detection rules**</span></span> | <span data-ttu-id="72677-161">Entenda como você pode usar consultas de busca avançadas para disparar alertas e tomar ações de resposta automaticamente.</span><span class="sxs-lookup"><span data-stu-id="72677-161">Understand how you can use advanced hunting queries to trigger alerts and take response actions automatically.</span></span> | <span data-ttu-id="72677-162">- [Visão geral de detecções personalizadas](custom-detections-overview.md)</span><span class="sxs-lookup"><span data-stu-id="72677-162">- [Custom detections overview](custom-detections-overview.md)</span></span><br><span data-ttu-id="72677-163">- [Regras de detecção personalizadas](custom-detection-rules.md)</span><span class="sxs-lookup"><span data-stu-id="72677-163">- [Custom detection rules](custom-detection-rules.md)</span></span> |

## <a name="get-access"></a><span data-ttu-id="72677-164">Obter acesso</span><span class="sxs-lookup"><span data-stu-id="72677-164">Get access</span></span>
<span data-ttu-id="72677-165">Para usar a busca avançada ou outros recursos do [Microsoft 365 Defender,](microsoft-365-defender.md) você precisa de uma função apropriada no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="72677-165">To use advanced hunting or other [Microsoft 365 Defender](microsoft-365-defender.md) capabilities, you need an appropriate role in Azure Active Directory.</span></span> <span data-ttu-id="72677-166">Além disso, o acesso aos dados do ponto de extremidade é determinado pelas configurações de controle de acesso baseado em função (RBAC) no Microsoft Defender para Ponto de Extremidade.</span><span class="sxs-lookup"><span data-stu-id="72677-166">Also, your access to endpoint data is determined by role-based access control (RBAC) settings in Microsoft Defender for Endpoint.</span></span> [<span data-ttu-id="72677-167">Ler sobre como gerenciar o acesso ao Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="72677-167">Read about managing access to Microsoft 365 Defender</span></span>](m365d-permissions.md)

## <a name="data-freshness-and-update-frequency"></a><span data-ttu-id="72677-168">Atualização de dados e frequência de atualização</span><span class="sxs-lookup"><span data-stu-id="72677-168">Data freshness and update frequency</span></span>
<span data-ttu-id="72677-169">Os dados de busca avançada podem ser categorizados em dois tipos distintos, cada um consolidado de forma diferente.</span><span class="sxs-lookup"><span data-stu-id="72677-169">Advanced hunting data can be categorized into two distinct types, each consolidated differently.</span></span>

- <span data-ttu-id="72677-170">**Dados de eventos ou atividades**— preenche tabelas sobre alertas, eventos de segurança, eventos do sistema e avaliações de rotina.</span><span class="sxs-lookup"><span data-stu-id="72677-170">**Event or activity data**—populates tables about alerts, security events, system events, and routine assessments.</span></span> <span data-ttu-id="72677-171">A busca avançada recebe esses dados quase imediatamente após os sensores que os coletam transmiti-los com êxito para os serviços de nuvem correspondentes.</span><span class="sxs-lookup"><span data-stu-id="72677-171">Advanced hunting receives this data almost immediately after the sensors that collect them successfully transmit them to the corresponding cloud services.</span></span> <span data-ttu-id="72677-172">Por exemplo, você pode consultar dados de eventos de sensores saudáveis em estações de trabalho ou controladores de domínio quase imediatamente depois que eles estão disponíveis no Microsoft Defender para Ponto de Extremidade e no Microsoft Defender para Identidade.</span><span class="sxs-lookup"><span data-stu-id="72677-172">For example, you can query event data from healthy sensors on workstations or domain controllers almost immediately after they are available on Microsoft Defender for Endpoint and Microsoft Defender for Identity.</span></span>
- <span data-ttu-id="72677-173">**Dados de entidade**— preenche tabelas com informações sobre usuários e dispositivos.</span><span class="sxs-lookup"><span data-stu-id="72677-173">**Entity data**—populates tables with information about users and devices.</span></span> <span data-ttu-id="72677-174">Esses dados vêm de fontes de dados relativamente estáticas e fontes dinâmicas, como entradas do Active Directory e logs de eventos.</span><span class="sxs-lookup"><span data-stu-id="72677-174">This data comes from both relatively static data sources and dynamic sources, such as Active Directory entries and event logs.</span></span> <span data-ttu-id="72677-175">Para fornecer dados atualizados, as tabelas são atualizadas com novas informações a cada 15 minutos, adicionando linhas que podem não ser totalmente preenchidas.</span><span class="sxs-lookup"><span data-stu-id="72677-175">To provide fresh data, tables are updated with any new information every 15 minutes, adding rows that might not be fully populated.</span></span> <span data-ttu-id="72677-176">A cada 24 horas, os dados são consolidados para inserir um registro que contém o conjunto de dados mais recente e mais abrangente sobre cada entidade.</span><span class="sxs-lookup"><span data-stu-id="72677-176">Every 24 hours, data is consolidated to insert a record that contains the latest, most comprehensive data set about each entity.</span></span>

## <a name="time-zone"></a><span data-ttu-id="72677-177">Fuso horário</span><span class="sxs-lookup"><span data-stu-id="72677-177">Time zone</span></span>
<span data-ttu-id="72677-178">As informações de tempo na busca avançada estão no fuso horário UTC.</span><span class="sxs-lookup"><span data-stu-id="72677-178">Time information in advanced hunting is in the UTC time zone.</span></span>

## <a name="related-topics"></a><span data-ttu-id="72677-179">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="72677-179">Related topics</span></span>
- [<span data-ttu-id="72677-180">Aprender a linguagem de consulta</span><span class="sxs-lookup"><span data-stu-id="72677-180">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="72677-181">Obtenha treinamento especializado</span><span class="sxs-lookup"><span data-stu-id="72677-181">Get expert training</span></span>](advanced-hunting-expert-training.md)
- [<span data-ttu-id="72677-182">Usar consultas compartilhadas</span><span class="sxs-lookup"><span data-stu-id="72677-182">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="72677-183">Entender o esquema</span><span class="sxs-lookup"><span data-stu-id="72677-183">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="72677-184">Aplicar práticas recomendadas de consulta</span><span class="sxs-lookup"><span data-stu-id="72677-184">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="72677-185">Visão geral de detecções personalizadas</span><span class="sxs-lookup"><span data-stu-id="72677-185">Custom detections overview</span></span>](custom-detections-overview.md)
